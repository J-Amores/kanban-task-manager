(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2385:(e,t,a)=>{Promise.resolve().then(a.bind(a,7543))},7543:(e,t,a)=>{"use strict";a.d(t,{default:()=>e$});var s=a(5155),r=a(2115),i=a(5294),l=a(4616),d=a(3127),n=a(5623),o=a(2525),c=a(4357),m=a(9074),u=a(9145),p=a(9708),g=a(2085),x=a(2596),f=a(9688);function h(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,x.$)(t))}function b(){return Math.random().toString(36).substring(2,9)}function y(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}let v=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:l=!1,...d}=e,n=l?p.DX:"button";return(0,s.jsx)(n,{className:h(v({variant:r,size:i,className:a})),ref:t,...d})});function N(e){let{task:t,onClick:a,onDuplicate:r}=e,i=t.subtasks.filter(e=>e.completed).length,l=t.subtasks.length,d=t.dueDate&&new Date(t.dueDate)<new Date&&"Completed"!==t.status;return(0,s.jsxs)("div",{className:"mb-2 p-3 bg-gray-700 rounded-lg shadow-md border border-gray-600 hover:shadow-lg transition-shadow cursor-pointer group",onClick:a,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-50 mb-1",children:t.title}),(0,s.jsx)(j,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),r()},title:"Duplicate task",children:(0,s.jsx)(c.A,{className:"h-3 w-3"})})]}),t.description&&(0,s.jsx)("p",{className:"text-xs text-gray-300 mb-2 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.dueDate&&(0,s.jsxs)("div",{className:"flex items-center text-xs ".concat(d?"text-red-400":"text-gray-400"," bg-gray-600 px-2 py-1 rounded-md"),children:[(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"}),y(t.dueDate)]}),l>0&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-400 bg-gray-600 px-2 py-1 rounded-md",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),i,"/",l]}),t.customFields.map(e=>e.value&&(0,s.jsxs)("div",{className:"text-xs text-gray-400 bg-gray-600 px-2 py-1 rounded-md",children:[e.name,":"," ",e.value.toString().length>10?e.value.toString().substring(0,10)+"...":e.value.toString()]},e.id))]})]})}j.displayName="Button";let k=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:h("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});k.displayName="Input";var w=a(968);let C=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),A=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(w.b,{ref:t,className:h(C(),a),...r})});A.displayName=w.b.displayName;let D=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:h("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});D.displayName="Textarea";var S=a(8698),I=a(3052),z=a(5196),R=a(9428);let T=S.bL,_=S.l9;S.YJ,S.ZL,S.Pb,S.z6,r.forwardRef((e,t)=>{let{className:a,inset:r,children:i,...l}=e;return(0,s.jsxs)(S.ZP,{ref:t,className:h("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l,children:[i,(0,s.jsx)(I.A,{className:"ml-auto"})]})}).displayName=S.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.G5,{ref:t,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=S.G5.displayName;let F=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,s.jsx)(S.ZL,{children:(0,s.jsx)(S.UC,{ref:t,sideOffset:r,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});F.displayName=S.UC.displayName;let P=r.forwardRef((e,t)=>{let{className:a,inset:r,...i}=e;return(0,s.jsx)(S.q7,{ref:t,className:h("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i})});P.displayName=S.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:i,...l}=e;return(0,s.jsxs)(S.H_,{ref:t,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(S.VF,{children:(0,s.jsx)(z.A,{className:"h-4 w-4"})})}),r]})}).displayName=S.H_.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(S.hN,{ref:t,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(S.VF,{children:(0,s.jsx)(R.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=S.hN.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...i}=e;return(0,s.jsx)(S.JU,{ref:t,className:h("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...i})}).displayName=S.JU.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.wv,{ref:t,className:h("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=S.wv.displayName;var E=a(547);let O=E.bL,U=E.l9,L=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...l}=e;return(0,s.jsx)(E.ZL,{children:(0,s.jsx)(E.UC,{ref:t,align:r,sideOffset:i,className:h("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});L.displayName=E.UC.displayName;let M=[{name:"Default",value:"bg-white dark:bg-gray-800"},{name:"Blue",value:"bg-blue-50 dark:bg-blue-900/30"},{name:"Green",value:"bg-green-50 dark:bg-green-900/30"},{name:"Yellow",value:"bg-yellow-50 dark:bg-yellow-900/30"},{name:"Purple",value:"bg-purple-50 dark:bg-purple-900/30"},{name:"Pink",value:"bg-pink-50 dark:bg-pink-900/30"},{name:"Orange",value:"bg-orange-50 dark:bg-orange-900/30"},{name:"Cyan",value:"bg-cyan-50 dark:bg-cyan-900/30"}];function V(e){let{column:t,onAddTask:a,onTaskClick:c,onDeleteColumn:m,onUpdateColumn:u,onDuplicateTask:p}=e,[g,x]=(0,r.useState)(!1),[f,h]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),w=()=>{if(!f.trim())return;let e={id:"task-".concat(b()),title:f,description:y,status:t.title,dueDate:null,subtasks:[],customFields:[],createdAt:new Date().toISOString()};a(t.id,e),h(""),v(""),x(!1)},C=e=>{u(t.id,{color:e})},S=t.color||"bg-white dark:bg-gray-800";return(0,s.jsxs)("div",{className:"shrink-0 w-72 flex flex-col bg-gray-800 rounded-md shadow-sm",children:[(0,s.jsxs)("div",{className:"p-3 flex justify-between items-center border-b border-gray-700 rounded-t-md ".concat(S),children:[(0,s.jsxs)("h3",{className:"font-medium text-sm uppercase tracking-wider text-gray-300 flex items-center",children:[t.title,(0,s.jsx)("span",{className:"ml-2 text-xs bg-gray-700 text-gray-400 px-2 py-0.5 rounded-full",children:t.tasks.length})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)(O,{children:[(0,s.jsx)(U,{asChild:!0,children:(0,s.jsx)(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(L,{className:"w-64 bg-gray-700 border-gray-600",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-gray-200",children:"Column Color"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:M.map(e=>(0,s.jsx)("button",{className:"h-8 w-full rounded-md ".concat(e.value," border dark:border-gray-700 hover:opacity-80 transition-opacity"),onClick:()=>C(e.value),"aria-label":"Set column color to ".concat(e.name)},e.value))})]})})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsx)(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})}),(0,s.jsx)(F,{align:"end",children:(0,s.jsxs)(P,{onClick:m,className:"text-red-600 dark:text-red-400",children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Delete Column"]})})]})]})]}),(0,s.jsx)(i.gL,{droppableId:t.id,children:e=>(0,s.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"flex-1 p-2 overflow-y-auto",children:[t.tasks.map((e,a)=>(0,s.jsx)(i.sx,{draggableId:e.id,index:a,children:a=>(0,s.jsx)("div",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,children:(0,s.jsx)(N,{task:e,onClick:()=>c(e),onDuplicate:()=>p(e,t.id)})})},e.id)),e.placeholder,g?(0,s.jsxs)("div",{className:"mt-2 p-3 bg-gray-700 rounded-md shadow-sm border border-gray-600",children:[(0,s.jsx)(A,{htmlFor:"task-title",className:"text-gray-200",children:"Task Title"}),(0,s.jsx)(k,{id:"task-title",value:f,onChange:e=>h(e.target.value),placeholder:"Enter task title",className:"mb-2 bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200"}),(0,s.jsx)(A,{htmlFor:"task-description",className:"text-gray-200",children:"Description (optional)"}),(0,s.jsx)(D,{id:"task-description",value:y,onChange:e=>v(e.target.value),placeholder:"Enter task description",className:"mb-2 bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",rows:3}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",className:"bg-indigo-500 hover:bg-indigo-600",onClick:w,children:"Add"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>x(!1),className:"border-indigo-500 text-indigo-500 hover:bg-indigo-500/10",children:"Cancel"})]})]}):(0,s.jsxs)(j,{variant:"ghost",className:"w-full mt-2 text-gray-400 hover:text-gray-200 hover:bg-gray-700/50 justify-start",onClick:()=>x(!0),children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"})," Add Task"]})]})})]})}var q=a(4416),B=a(3717),J=a(8979),H=a(7489);let Z=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...l}=e;return(0,s.jsx)(H.b,{ref:t,decorative:i,orientation:r,className:h("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...l})});Z.displayName=H.b.displayName;var Y=a(2355),W=a(9895);function G(e){let{className:t,classNames:a,showOutsideDays:r=!0,...i}=e;return(0,s.jsx)(W.hv,{showOutsideDays:r,className:h("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:h(v({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:h(v({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(Y.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(I.A,{className:"h-4 w-4"})}},...i})}G.displayName="Calendar";var X=a(8715),Q=a(6474),$=a(7863);let K=X.bL;X.YJ;let ee=X.WT,et=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(X.l9,{ref:t,className:h("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(X.In,{asChild:!0,children:(0,s.jsx)(Q.A,{className:"h-4 w-4 opacity-50"})})]})});et.displayName=X.l9.displayName;let ea=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.PP,{ref:t,className:h("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)($.A,{className:"h-4 w-4"})})});ea.displayName=X.PP.displayName;let es=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.wn,{ref:t,className:h("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(Q.A,{className:"h-4 w-4"})})});es.displayName=X.wn.displayName;let er=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...l}=e;return(0,s.jsx)(X.ZL,{children:(0,s.jsxs)(X.UC,{ref:t,className:h("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,s.jsx)(ea,{}),(0,s.jsx)(X.LM,{className:h("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(es,{})]})})});er.displayName=X.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.JU,{ref:t,className:h("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=X.JU.displayName;let ei=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(X.q7,{ref:t,className:h("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(X.VF,{children:(0,s.jsx)(z.A,{className:"h-4 w-4"})})}),(0,s.jsx)(X.p4,{children:r})]})});ei.displayName=X.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.wv,{ref:t,className:h("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=X.wv.displayName;var el=a(7649);let ed=el.bL,en=el.l9,eo=el.ZL,ec=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(el.hJ,{className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});ec.displayName=el.hJ.displayName;let em=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(eo,{children:[(0,s.jsx)(ec,{}),(0,s.jsx)(el.UC,{ref:t,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});em.displayName=el.UC.displayName;let eu=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",t),...a})};eu.displayName="AlertDialogHeader";let ep=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};ep.displayName="AlertDialogFooter";let eg=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(el.hE,{ref:t,className:h("text-lg font-semibold",a),...r})});eg.displayName=el.hE.displayName;let ex=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(el.VY,{ref:t,className:h("text-sm text-muted-foreground",a),...r})});ex.displayName=el.VY.displayName;let ef=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(el.rc,{ref:t,className:h(v(),a),...r})});ef.displayName=el.rc.displayName;let eh=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(el.ZD,{ref:t,className:h(v({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});function eb(e){let{task:t,onClose:a,onUpdate:i,onDelete:d,onDuplicate:n,columns:p}=e,[g,x]=(0,r.useState)({...t}),[f,h]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(""),[A,S]=(0,r.useState)(!1),[I,z]=(0,r.useState)(""),[R,T]=(0,r.useState)(""),[_,F]=(0,r.useState)(!1),P=e=>{let t=g.subtasks.map(t=>t.id===e?{...t,completed:!t.completed}:t),a={...g,subtasks:t};x(a),i(a)},E=e=>{let t=g.subtasks.filter(t=>t.id!==e),a={...g,subtasks:t};x(a),i(a)},M=(e,t)=>{let a=g.customFields.map(a=>a.id===e?{...a,value:t}:a),s={...g,customFields:a};x(s),i(s)},V=e=>{let t=g.customFields.filter(t=>t.id!==e),a={...g,customFields:t};x(a),i(a)};return(0,s.jsxs)("div",{className:"fixed inset-y-0 right-0 w-full sm:w-96 bg-gray-700 shadow-lg border-l border-gray-600 z-50 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-600",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-50",children:"Task Details"}),(0,s.jsx)(j,{variant:"ghost",size:"icon",onClick:a,children:(0,s.jsx)(q.A,{className:"h-5 w-5"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{children:f?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(k,{value:g.title,onChange:e=>x({...g,title:e.target.value}),className:"text-lg font-medium bg-gray-600 border-transparent focus:border-indigo-500 text-gray-50"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",onClick:()=>{g.title.trim()&&(i(g),h(!1))},children:"Save"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>h(!1),className:"border-gray-600 text-gray-200",children:"Cancel"})]})]}):(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-50",children:g.title}),(0,s.jsx)(j,{variant:"ghost",size:"icon",onClick:()=>h(!0),children:(0,s.jsx)(B.A,{className:"h-4 w-4"})})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-300 block mb-1",children:"Status"}),(0,s.jsxs)(K,{value:g.status,onValueChange:e=>{let t={...g,status:e};x(t),i(t)},children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Select status"})}),(0,s.jsx)(er,{className:"bg-gray-700 border-gray-600",children:p.map(e=>(0,s.jsx)(ei,{value:e.title,children:e.title},e.id))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-300 block mb-1",children:"Due Date"}),(0,s.jsxs)(O,{children:[(0,s.jsx)(U,{asChild:!0,children:(0,s.jsxs)(j,{variant:"outline",className:"w-full justify-start text-left font-normal bg-gray-600 border-transparent text-gray-200",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),g.dueDate?y(g.dueDate):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(L,{className:"w-auto p-0 bg-gray-700 border-gray-600",align:"start",children:(0,s.jsx)(G,{mode:"single",selected:g.dueDate?new Date(g.dueDate):void 0,onSelect:e=>{let t={...g,dueDate:e?e.toISOString():null};x(t),i(t)},initialFocus:!0,className:"dark:bg-gray-800"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Description"}),!v&&(0,s.jsxs)(j,{variant:"ghost",size:"sm",onClick:()=>N(!0),children:[(0,s.jsx)(B.A,{className:"h-3 w-3 mr-1"})," Edit"]})]}),v?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(D,{value:g.description||"",onChange:e=>x({...g,description:e.target.value}),placeholder:"Add a description...",rows:4,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",onClick:()=>{i(g),N(!1)},children:"Save"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>N(!1),className:"dark:border-gray-600 dark:text-gray-200",children:"Cancel"})]})]}):(0,s.jsx)("div",{className:"text-sm text-gray-400 bg-gray-600 p-3 rounded-md min-h-[60px]",children:g.description||"No description provided."})]}),(0,s.jsx)(Z,{className:"bg-gray-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300",children:"Subtasks"}),(0,s.jsxs)(j,{variant:"ghost",size:"sm",onClick:()=>S(!0),children:[(0,s.jsx)(l.A,{className:"h-3 w-3 mr-1"})," Add"]})]}),A&&(0,s.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,s.jsx)(k,{value:w,onChange:e=>C(e.target.value),placeholder:"Subtask title",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",onClick:()=>{if(!w.trim())return;let e={id:"subtask-".concat(b()),title:w,completed:!1},t={...g,subtasks:[...g.subtasks,e]};x(t),i(t),C(""),S(!1)},children:"Add"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>S(!1),className:"dark:border-gray-600 dark:text-gray-200",children:"Cancel"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:0===g.subtasks.length?(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No subtasks yet."}):g.subtasks.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-600 p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(j,{variant:"ghost",size:"icon",className:"h-6 w-6 mr-2",onClick:()=>P(e.id),children:e.completed?(0,s.jsx)(u.A,{className:"h-4 w-4 text-blue-500"}):(0,s.jsx)(J.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"text-sm ".concat(e.completed?"line-through text-gray-400":"text-gray-200"),children:e.title})]}),(0,s.jsx)(j,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400 hover:text-red-500 dark:hover:text-red-400",onClick:()=>E(e.id),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]},e.id))})]}),(0,s.jsx)(Z,{className:"bg-gray-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300",children:"Custom Fields"}),(0,s.jsxs)(j,{variant:"ghost",size:"sm",onClick:()=>F(!0),children:[(0,s.jsx)(l.A,{className:"h-3 w-3 mr-1"})," Add"]})]}),_&&(0,s.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)(k,{value:I,onChange:e=>z(e.target.value),placeholder:"Field name",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),(0,s.jsx)(k,{value:R,onChange:e=>T(e.target.value),placeholder:"Field value",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",onClick:()=>{if(!I.trim())return;let e={id:"field-".concat(b()),name:I,value:R},t={...g,customFields:[...g.customFields,e]};x(t),i(t),z(""),T(""),F(!1)},children:"Add"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>F(!1),className:"dark:border-gray-600 dark:text-gray-200",children:"Cancel"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:0===g.customFields.length?(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No custom fields yet."}):g.customFields.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-600 p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 flex-1 mr-2",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-200",children:[e.name,":"]}),(0,s.jsx)(k,{value:e.value||"",onChange:t=>M(e.id,t.target.value),className:"h-7 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})]}),(0,s.jsx)(j,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400 hover:text-red-500 dark:hover:text-red-400",onClick:()=>V(e.id),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]},e.id))})]})]})}),(0,s.jsxs)("div",{className:"p-4 border-t border-gray-600 flex gap-2",children:[(0,s.jsxs)(j,{variant:"outline",className:"flex-1 border-indigo-500 text-indigo-500 hover:bg-indigo-500/10",onClick:()=>{n(t)},children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Duplicate"]}),(0,s.jsxs)(ed,{children:[(0,s.jsx)(en,{asChild:!0,children:(0,s.jsxs)(j,{variant:"destructive",className:"flex-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Delete Task"]})}),(0,s.jsxs)(em,{className:"bg-gray-700 border-gray-600",children:[(0,s.jsxs)(eu,{children:[(0,s.jsx)(eg,{className:"text-gray-50",children:"Are you sure?"}),(0,s.jsx)(ex,{className:"text-gray-300",children:"This action cannot be undone. This will permanently delete the task and all its subtasks."})]}),(0,s.jsxs)(ep,{children:[(0,s.jsx)(eh,{className:"bg-gray-600 border-gray-600 text-gray-200",children:"Cancel"}),(0,s.jsx)(ef,{onClick:()=>{d(t.id)},children:"Delete"})]})]})]})]})]})}eh.displayName=el.ZD.displayName;var ey=a(381),ev=a(4884);let ej=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ev.bL,{className:h("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(ev.zi,{className:h("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});ej.displayName=ev.bL.displayName;var eN=a(5452);let ek=eN.bL,ew=eN.l9,eC=eN.ZL;eN.bm;let eA=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eN.hJ,{ref:t,className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});eA.displayName=eN.hJ.displayName;let eD=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(eC,{children:[(0,s.jsx)(eA,{}),(0,s.jsxs)(eN.UC,{ref:t,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(eN.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(q.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eD.displayName=eN.UC.displayName;let eS=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};eS.displayName="DialogHeader";let eI=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};eI.displayName="DialogFooter";let ez=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eN.hE,{ref:t,className:h("text-lg font-semibold leading-none tracking-tight",a),...r})});ez.displayName=eN.hE.displayName;let eR=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eN.VY,{ref:t,className:h("text-sm text-muted-foreground",a),...r})});function eT(e){var t;let{rules:a,columns:i,onAddRule:d,onUpdateRule:n,onDeleteRule:c}=e,[m,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)({id:"rule-".concat(b()),name:"",condition:{type:"due-date",operator:"is-overdue"},action:{type:"move-to-column",targetColumnId:(null===(t=i[0])||void 0===t?void 0:t.id)||""},enabled:!0}),x=(e,t)=>{n(e,{enabled:t})};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(ey.A,{className:"h-5 w-5 mr-2 dark:text-gray-300"}),(0,s.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:"Automation Rules"})]}),(0,s.jsxs)(ek,{open:m,onOpenChange:u,children:[(0,s.jsx)(ew,{asChild:!0,children:(0,s.jsxs)(j,{size:"sm",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-1"})," Add Rule"]})}),(0,s.jsxs)(eD,{className:"bg-gray-700 border-gray-600",children:[(0,s.jsxs)(eS,{children:[(0,s.jsx)(ez,{className:"text-gray-50",children:"Create Automation Rule"}),(0,s.jsx)(eR,{className:"text-gray-300",children:"Create a rule to automatically move tasks based on conditions."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A,{htmlFor:"rule-name",className:"text-gray-300",children:"Rule Name"}),(0,s.jsx)(k,{id:"rule-name",value:p.name,onChange:e=>g({...p,name:e.target.value}),placeholder:"e.g., Move overdue tasks to Blocked",className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200"})]}),(0,s.jsx)(Z,{className:"bg-gray-600"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A,{className:"dark:text-gray-300",children:"When (Condition)"}),(0,s.jsxs)(K,{value:p.condition.type,onValueChange:e=>g({...p,condition:{...p.condition,type:e,operator:"due-date"===e?"is-overdue":"subtasks-completed"===e?"all-completed":"equals"}}),children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Select condition type"})}),(0,s.jsxs)(er,{className:"bg-gray-700 border-gray-600",children:[(0,s.jsx)(ei,{value:"due-date",children:"Due Date"}),(0,s.jsx)(ei,{value:"subtasks-completed",children:"Subtasks"}),(0,s.jsx)(ei,{value:"custom-field",children:"Custom Field"})]})]}),"due-date"===p.condition.type&&(0,s.jsxs)(K,{value:p.condition.operator,onValueChange:e=>g({...p,condition:{...p.condition,operator:e}}),children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Select operator"})}),(0,s.jsx)(er,{className:"bg-gray-700 border-gray-600",children:(0,s.jsx)(ei,{value:"is-overdue",children:"Is Overdue"})})]}),"subtasks-completed"===p.condition.type&&(0,s.jsxs)(K,{value:p.condition.operator,onValueChange:e=>g({...p,condition:{...p.condition,operator:e}}),children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Select operator"})}),(0,s.jsx)(er,{className:"bg-gray-700 border-gray-600",children:(0,s.jsx)(ei,{value:"all-completed",children:"All Completed"})})]}),"custom-field"===p.condition.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k,{placeholder:"Field name",value:p.condition.field||"",onChange:e=>g({...p,condition:{...p.condition,field:e.target.value}}),className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200"}),(0,s.jsxs)(K,{value:p.condition.operator,onValueChange:e=>g({...p,condition:{...p.condition,operator:e}}),children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Select operator"})}),(0,s.jsxs)(er,{className:"bg-gray-700 border-gray-600",children:[(0,s.jsx)(ei,{value:"equals",children:"Equals"}),(0,s.jsx)(ei,{value:"not-equals",children:"Not Equals"}),(0,s.jsx)(ei,{value:"contains",children:"Contains"})]})]}),(0,s.jsx)(k,{placeholder:"Value",value:p.condition.value||"",onChange:e=>g({...p,condition:{...p.condition,value:e.target.value}}),className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200"})]})]}),(0,s.jsx)(Z,{className:"bg-gray-600"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A,{className:"dark:text-gray-300",children:"Then (Action)"}),(0,s.jsxs)(K,{value:p.action.targetColumnId,onValueChange:e=>g({...p,action:{...p.action,targetColumnId:e}}),children:[(0,s.jsx)(et,{className:"bg-gray-600 border-transparent focus:border-indigo-500 text-gray-200",children:(0,s.jsx)(ee,{placeholder:"Move to column"})}),(0,s.jsx)(er,{className:"bg-gray-700 border-gray-600",children:i.map(e=>(0,s.jsxs)(ei,{value:e.id,children:["Move to ",e.title]},e.id))})]})]})]}),(0,s.jsxs)(eI,{children:[(0,s.jsx)(j,{variant:"outline",onClick:()=>u(!1),className:"border-indigo-500 text-indigo-500 hover:bg-indigo-500/10",children:"Cancel"}),(0,s.jsx)(j,{onClick:()=>{var e;p.name.trim()&&(d(p),g({id:"rule-".concat(b()),name:"",condition:{type:"due-date",operator:"is-overdue"},action:{type:"move-to-column",targetColumnId:(null===(e=i[0])||void 0===e?void 0:e.id)||""},enabled:!0}),u(!1))},className:"bg-indigo-500 hover:bg-indigo-600",children:"Create Rule"})]})]})]})]}),0===a.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,s.jsx)("p",{children:"No automation rules yet. Create one to automate your workflow."})}):(0,s.jsx)("div",{className:"space-y-2",children:a.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-md border border-gray-600",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-gray-50",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-300",children:["due-date"===e.condition.type&&"When task is overdue","subtasks-completed"===e.condition.type&&"When all subtasks are completed","custom-field"===e.condition.type&&"When ".concat(e.condition.field," ").concat(e.condition.operator," ").concat(e.condition.value)," → ","Move to ",null===(t=i.find(t=>t.id===e.action.targetColumnId))||void 0===t?void 0:t.title]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ej,{checked:e.enabled,onCheckedChange:t=>x(e.id,t),"aria-label":e.enabled?"Disable rule":"Enable rule"}),(0,s.jsx)(j,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-500 dark:hover:text-red-400",onClick:()=>c(e.id),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]})]},e.id)})})]})}eR.displayName=eN.VY.displayName;var e_=a(2098),eF=a(3509),eP=a(1362);function eE(){let{setTheme:e,theme:t}=(0,eP.D)();return(0,s.jsxs)(T,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(j,{variant:"outline",size:"icon",className:"h-9 w-9 border-gray-600 bg-gray-700 hover:bg-gray-600",children:[(0,s.jsx)(e_.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(eF.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(F,{align:"end",children:[(0,s.jsx)(P,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(P,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(P,{onClick:()=>e("system"),children:"System"})]})]})}var eO=a(704);let eU=eO.bL,eL=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eO.B8,{ref:t,className:h("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});eL.displayName=eO.B8.displayName;let eM=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eO.l9,{ref:t,className:h("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});eM.displayName=eO.l9.displayName;let eV=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eO.UC,{ref:t,className:h("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});eV.displayName=eO.UC.displayName;let eq=0,eB=new Map,eJ=e=>{if(eB.has(e))return;let t=setTimeout(()=>{eB.delete(e),eW({type:"REMOVE_TOAST",toastId:e})},1e6);eB.set(e,t)},eH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?eJ(a):e.toasts.forEach(e=>{eJ(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},eZ=[],eY={toasts:[]};function eW(e){eY=eH(eY,e),eZ.forEach(e=>{e(eY)})}function eG(e){let{...t}=e,a=(eq=(eq+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>eW({type:"DISMISS_TOAST",toastId:a});return eW({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>eW({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function eX(){return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex gap-0.5",children:[(0,s.jsx)("div",{className:"w-1.5 h-6 bg-indigo-500 rounded-sm"}),(0,s.jsx)("div",{className:"w-1.5 h-6 bg-indigo-500 rounded-sm opacity-70"}),(0,s.jsx)("div",{className:"w-1.5 h-6 bg-indigo-500 rounded-sm opacity-40"})]}),(0,s.jsx)("span",{className:"font-bold text-xl text-gray-50",children:"kanban"})]})}let eQ=()=>{let e=e=>{let t=new Date;return t.setDate(t.getDate()+e),t.toISOString()},t=[{id:"task-".concat(b()),title:"Research competitor products",description:"Analyze top 5 competitor products and create a comparison report",status:"To Do",dueDate:e(5),subtasks:[{id:"subtask-".concat(b()),title:"Identify top competitors",completed:!1},{id:"subtask-".concat(b()),title:"Create comparison criteria",completed:!1},{id:"subtask-".concat(b()),title:"Gather product information",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"High"},{id:"field-".concat(b()),name:"Estimated Hours",value:"8"}],createdAt:e(-2)},{id:"task-".concat(b()),title:"Design new landing page",description:"Create wireframes and mockups for the new product landing page",status:"To Do",dueDate:e(7),subtasks:[{id:"subtask-".concat(b()),title:"Research design trends",completed:!1},{id:"subtask-".concat(b()),title:"Create wireframes",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"Medium"},{id:"field-".concat(b()),name:"Assigned To",value:"Sarah"}],createdAt:e(-1)},{id:"task-".concat(b()),title:"Update documentation",description:"Update the user documentation with the latest features",status:"To Do",dueDate:e(3),subtasks:[],customFields:[{id:"field-".concat(b()),name:"Priority",value:"Low"}],createdAt:e(-3)}],a=[{id:"task-".concat(b()),title:"Implement authentication flow",description:"Create login, registration, and password reset functionality",status:"In Progress",dueDate:e(2),subtasks:[{id:"subtask-".concat(b()),title:"Design authentication screens",completed:!0},{id:"subtask-".concat(b()),title:"Implement login functionality",completed:!0},{id:"subtask-".concat(b()),title:"Implement registration",completed:!1},{id:"subtask-".concat(b()),title:"Implement password reset",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"High"},{id:"field-".concat(b()),name:"Assigned To",value:"Michael"},{id:"field-".concat(b()),name:"Story Points",value:"8"}],createdAt:e(-5)},{id:"task-".concat(b()),title:"Optimize database queries",description:"Improve performance of slow database queries on the dashboard",status:"In Progress",dueDate:e(1),subtasks:[{id:"subtask-".concat(b()),title:"Identify slow queries",completed:!0},{id:"subtask-".concat(b()),title:"Add indexes",completed:!1},{id:"subtask-".concat(b()),title:"Rewrite complex queries",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"High"},{id:"field-".concat(b()),name:"Estimated Hours",value:"6"}],createdAt:e(-4)}];return{"To Do":t,"In Progress":a,Blocked:[{id:"task-".concat(b()),title:"Fix payment integration",description:"Resolve issues with the Stripe payment integration",status:"Blocked",dueDate:e(-1),subtasks:[{id:"subtask-".concat(b()),title:"Investigate error logs",completed:!0},{id:"subtask-".concat(b()),title:"Contact Stripe support",completed:!0},{id:"subtask-".concat(b()),title:"Update API integration",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"Critical"},{id:"field-".concat(b()),name:"Blocker",value:"Waiting for API documentation"}],createdAt:e(-7)},{id:"task-".concat(b()),title:"Finalize third-party integrations",description:"Complete integration with analytics and marketing tools",status:"Blocked",dueDate:e(-2),subtasks:[{id:"subtask-".concat(b()),title:"Set up Google Analytics",completed:!0},{id:"subtask-".concat(b()),title:"Integrate Mailchimp",completed:!1}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"Medium"},{id:"field-".concat(b()),name:"Blocker",value:"Waiting for API keys"}],createdAt:e(-6)}],Completed:[{id:"task-".concat(b()),title:"Create project proposal",description:"Draft and finalize the project proposal document",status:"Completed",dueDate:e(-5),subtasks:[{id:"subtask-".concat(b()),title:"Research market needs",completed:!0},{id:"subtask-".concat(b()),title:"Define project scope",completed:!0},{id:"subtask-".concat(b()),title:"Create budget estimate",completed:!0}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"High"},{id:"field-".concat(b()),name:"Completed On",value:e(-6).split("T")[0]}],createdAt:e(-10)},{id:"task-".concat(b()),title:"Set up development environment",description:"Configure development, staging, and production environments",status:"Completed",dueDate:e(-8),subtasks:[{id:"subtask-".concat(b()),title:"Set up local environment",completed:!0},{id:"subtask-".concat(b()),title:"Configure staging server",completed:!0},{id:"subtask-".concat(b()),title:"Set up CI/CD pipeline",completed:!0}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"Medium"},{id:"field-".concat(b()),name:"Completed By",value:"David"}],createdAt:e(-12)},{id:"task-".concat(b()),title:"Initial user research",description:"Conduct interviews and surveys with potential users",status:"Completed",dueDate:e(-15),subtasks:[{id:"subtask-".concat(b()),title:"Create research questions",completed:!0},{id:"subtask-".concat(b()),title:"Recruit participants",completed:!0},{id:"subtask-".concat(b()),title:"Analyze results",completed:!0}],customFields:[{id:"field-".concat(b()),name:"Priority",value:"High"},{id:"field-".concat(b()),name:"Participants",value:"12"}],createdAt:e(-20)}]}};function e$(){let{toast:e}=function(){let[e,t]=r.useState(eY);return r.useEffect(()=>(eZ.push(t),()=>{let e=eZ.indexOf(t);e>-1&&eZ.splice(e,1)}),[e]),{...e,toast:eG,dismiss:e=>eW({type:"DISMISS_TOAST",toastId:e})}}(),[t,a]=(0,r.useState)([]),[d,n]=(0,r.useState)(null),[o,c]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)([]),[x,f]=(0,r.useState)("board");(0,r.useEffect)(()=>{let e=eQ();a([{id:"column-1",title:"To Do",tasks:e["To Do"],color:"bg-blue-50 dark:bg-blue-900/30"},{id:"column-2",title:"In Progress",tasks:e["In Progress"],color:"bg-yellow-50 dark:bg-yellow-900/30"},{id:"column-3",title:"Blocked",tasks:e.Blocked,color:"bg-red-50 dark:bg-red-900/30"},{id:"column-4",title:"Completed",tasks:e.Completed,color:"bg-green-50 dark:bg-green-900/30"}]),g([{id:"rule-".concat(b()),name:"Move overdue tasks to Blocked",condition:{type:"due-date",operator:"is-overdue"},action:{type:"move-to-column",targetColumnId:"column-3"},enabled:!0},{id:"rule-".concat(b()),name:"Move completed tasks when all subtasks done",condition:{type:"subtasks-completed",operator:"all-completed"},action:{type:"move-to-column",targetColumnId:"column-4"},enabled:!0}])},[]),(0,r.useEffect)(()=>{if(0===p.length)return;let s=p.filter(e=>e.enabled);if(0===s.length)return;let r=[];if(t.forEach(e=>{e.tasks.forEach(a=>{s.forEach(s=>{let{condition:i,action:l}=s,d=!1;if("due-date"===i.type&&"is-overdue"===i.operator)d=!!(a.dueDate&&new Date(a.dueDate)<new Date&&"Completed"!==a.status);else if("subtasks-completed"===i.type&&"all-completed"===i.operator)d=a.subtasks.length>0&&a.subtasks.every(e=>e.completed);else if("custom-field"===i.type&&i.field){let e=a.customFields.find(e=>e.name===i.field);e&&("equals"===i.operator?d=e.value===i.value:"not-equals"===i.operator?d=e.value!==i.value:"contains"===i.operator&&(d=e.value.includes(i.value||"")))}if(d&&"move-to-column"===l.type){let s=t.find(e=>e.id===l.targetColumnId);s&&a.status!==s.title&&r.push({taskId:a.id,sourceColumnId:e.id,targetColumnId:l.targetColumnId})}})})}),r.length>0){let s=[...t];r.forEach(t=>{let{taskId:a,sourceColumnId:r,targetColumnId:i}=t,l=s.findIndex(e=>e.id===r),o=s.findIndex(e=>e.id===i);if(-1!==l&&-1!==o){let t=s[l],r=t.tasks.findIndex(e=>e.id===a);if(-1!==r){var c;let m={...t.tasks[r],status:s[o].title};s[l]={...t,tasks:t.tasks.filter(e=>e.id!==a)},s[o]={...s[o],tasks:[...s[o].tasks,m]},d&&d.id===a&&n(m),e({title:"Task moved automatically",description:'"'.concat(m.title,'" moved to ').concat(s[o].title," by rule: ").concat(null===(c=p.find(e=>e.action.targetColumnId===i))||void 0===c?void 0:c.name)})}}}),a(s)}},[t,p,d,e]);let h=(s,r)=>{var i;a(t.map(e=>e.id===s?{...e,tasks:[...e.tasks,r]}:e)),e({title:"Task created",description:'"'.concat(r.title,'" added to ').concat(null===(i=t.find(e=>e.id===s))||void 0===i?void 0:i.title)})},y=(a,s)=>{var r;let i={...JSON.parse(JSON.stringify(a)),id:"task-".concat(b()),title:"".concat(a.title," (Copy)"),createdAt:new Date().toISOString()},l=s||(null===(r=t.find(e=>e.tasks.some(e=>e.id===a.id)))||void 0===r?void 0:r.id);l&&(h(l,i),e({title:"Task duplicated",description:'"'.concat(i.title,'" created')}))},v=(e,s)=>{a(t.map(t=>t.id===e?{...t,...s}:t))},N=s=>{let r=t.find(e=>e.id===s);if(r&&r.tasks.length>0){e({title:"Cannot delete column",description:"Please move or delete all tasks in this column first",variant:"destructive"});return}a(t.filter(e=>e.id!==s)),e({title:"Column deleted",description:'"'.concat(null==r?void 0:r.title,'" column has been deleted')})};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-gray-800",children:[(0,s.jsxs)("header",{className:"bg-gray-800 border-b border-gray-700 p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)(eX,{}),(0,s.jsx)(eE,{})]}),(0,s.jsxs)(eU,{value:x,onValueChange:f,children:[(0,s.jsxs)(eL,{className:"grid w-full max-w-md grid-cols-2 bg-gray-700",children:[(0,s.jsx)(eM,{value:"board",children:"Board"}),(0,s.jsx)(eM,{value:"automation",children:"Automation"})]}),(0,s.jsx)(eV,{value:"board",className:"mt-4",children:(0,s.jsx)(i.JY,{onDragEnd:s=>{let{destination:r,source:i,draggableId:l}=s;if(!r||r.droppableId===i.droppableId&&r.index===i.index)return;let o=t.find(e=>e.id===i.droppableId),c=t.find(e=>e.id===r.droppableId);if(!o||!c)return;let m=[...t],u=m.findIndex(e=>e.id===i.droppableId),p=m.findIndex(e=>e.id===r.droppableId),g=o.tasks.find(e=>e.id===l);if(!g)return;m[u]={...o,tasks:o.tasks.filter(e=>e.id!==l)};let x={...g,status:c.title};m[p]={...c,tasks:[...c.tasks.slice(0,r.index),x,...c.tasks.slice(r.index)]},a(m),d&&d.id===l&&n(x),e({title:"Task moved",description:'"'.concat(g.title,'" moved to ').concat(c.title)})},children:(0,s.jsxs)("div",{className:"flex gap-4 h-full",children:[t.map(e=>(0,s.jsx)(V,{column:e,onAddTask:h,onTaskClick:n,onDeleteColumn:()=>N(e.id),onUpdateColumn:v,onDuplicateTask:y},e.id)),(0,s.jsx)("div",{className:"shrink-0 w-72",children:m?(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-md shadow-sm border dark:border-gray-700",children:[(0,s.jsx)(A,{htmlFor:"column-title",className:"dark:text-gray-200",children:"Column Title"}),(0,s.jsx)(k,{id:"column-title",value:o,onChange:e=>c(e.target.value),placeholder:"Enter column title",className:"mb-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(j,{size:"sm",onClick:()=>{if(!o.trim()){e({title:"Error",description:"Column title cannot be empty",variant:"destructive"});return}a([...t,{id:"column-".concat(b()),title:o,tasks:[]}]),c(""),u(!1),e({title:"Column added",description:'"'.concat(o,'" column has been added')})},children:"Add"}),(0,s.jsx)(j,{size:"sm",variant:"outline",onClick:()=>u(!1),className:"dark:border-gray-600 dark:text-gray-200",children:"Cancel"})]})]}):(0,s.jsxs)(j,{variant:"outline",className:"border-dashed border-2 w-full h-12 dark:border-gray-700 dark:text-gray-300",onClick:()=>u(!0),children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"})," Add Column"]})})]})})}),(0,s.jsx)(eV,{value:"automation",className:"mt-4",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(eT,{rules:p,columns:t,onAddRule:t=>{g([...p,t]),e({title:"Rule created",description:'"'.concat(t.name,'" has been added')})},onUpdateRule:(e,t)=>{g(p.map(a=>a.id===e?{...a,...t}:a))},onDeleteRule:t=>{g(p.filter(e=>e.id!==t)),e({title:"Rule deleted",description:"The automation rule has been deleted"})}})})})]})]}),d&&(0,s.jsx)(eb,{task:d,onClose:()=>n(null),onUpdate:s=>{a(t.map(e=>({...e,tasks:e.tasks.map(e=>e.id===s.id?s:e)}))),n(s),e({title:"Task updated",description:'"'.concat(s.title,'" has been updated')})},onDelete:s=>{a(t.map(e=>({...e,tasks:e.tasks.filter(e=>e.id!==s)}))),n(null),e({title:"Task deleted",description:"The task has been deleted"})},onDuplicate:y,columns:t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[309,880,441,684,358],()=>t(2385)),_N_E=e.O()}]);